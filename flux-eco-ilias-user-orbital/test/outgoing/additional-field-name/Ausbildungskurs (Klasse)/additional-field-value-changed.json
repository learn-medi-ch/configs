{
  "tasks": {
    "subscribe-to-class-course": {
      "required": [
        "{$message.newAdditionalFieldValue}"
      ],
      "address": {
        "path": "subscribe-user-to-course",
        "parameters": null,
        "server": {
          "url": "flux-eco-ilias-user-orbital:9501",
          "protocol": "http"
        }
      },
      "messageToDispatch": {
        "$transform": {
          "userId": "{$message.userId}",
          "courseRoleName": "member",
          "courseId": {
            "id": "crs_{$message.newAdditionalFieldValue}",
            "idType": "import-id"
          }
        }
      }
    },
    "unsubscribe-from-class-course": {
      "required": [
        "{$message.oldAdditionalFieldValue}"
      ],
      "address": {
        "path": "unsubscribe-user-from-course",
        "parameters": null,
        "server": {
          "url": "flux-eco-ilias-user-orbital:9501",
          "protocol": "http"
        }
      },
      "messageToDispatch": {
        "$transform": {
          "userId": "{$message.userId}",
          "courseId": {
            "id": "crs_{$message.oldAdditionalFieldValue}",
            "idType": "import-id"
          }
        }
      }
    },
    "subscribe-to-degree-program": {
      "required": [
        "{$message.newAdditionalFieldValue}"
      ],
      "address": {
        "path": "subscribe-user-to-course-tree",
        "parameters": null,
        "server": {
          "url": "flux-eco-ilias-user-orbital:9501",
          "protocol": "http"
        }
      },
      "messageToDispatch": {
        "$transform": {
          "userId": "{$message.userId}",
          "courseRoleName": "member",
          "categoryId": {
            "id": "cat_{$message.newAdditionalFieldValue}",
            "idType": "import-id"
          }
        }
      }
    },
    "unsubscribe-from-degree-program": {
      "required": [
        "{$message.oldAdditionalFieldValue}"
      ],
      "address": {
        "path": "unsubscribe-user-from-course-tree",
        "parameters": null,
        "server": {
          "url": "flux-eco-ilias-user-orbital:9501",
          "protocol": "http"
        }
      },
      "messageToDispatch": {
        "$transform": {
          "userId": "{$message.userId}",
          "categoryId": {
            "id": "crs_{$message.oldAdditionalFieldValue}",
            "idType": "import-id"
          }
        }
      }
    }
  }
}